(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(40)},31:function(e,t,a){},32:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),o=a.n(r),c=(a(31),a(3)),s=a(4),i=a(7),u=a(6),m=a(8),h=a(2),d=a(12),p=(a(32),new(function(){function e(){Object(c.a)(this,e),this.authenticated=!1}return Object(s.a)(e,[{key:"login",value:function(e,t){localStorage.setItem("user-data",JSON.stringify(e.username)),localStorage.setItem("token",e.token),this.authenticated=!0,t()}},{key:"logout",value:function(e){localStorage.removeItem("user-data"),localStorage.removeItem("token"),this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return localStorage.getItem("token")&&(this.authenticated=!0),this.authenticated}}]),e}())),b=Object(d.g)(function(e){return l.a.createElement("a",{className:"nav-link logout",onClick:function(){p.logout(function(){e.history.push("/")})}},"Logout")}),f=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"verifyIfItsAuth",value:function(){return p.isAuthenticated()?l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement(h.b,{className:"nav-link",to:"/"},"Home",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.b,{className:"nav-link",to:"/mytasks"},"Tasks Management")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.b,{className:"nav-link",to:"/my-info"},"My Info")),l.a.createElement("li",null,l.a.createElement(b,null))):l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement(h.b,{className:"nav-link",to:"/"},"Home",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",null,l.a.createElement(h.b,{className:"nav-link",to:"/login"},"Login")))}},{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-toggleable-md"},l.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"container"},l.a.createElement(h.b,{className:"navbar-brand",to:"/"},"React Website"),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},this.verifyIfItsAuth())))}}]),t}(n.Component),v=(a(37),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"jumbotron jumbotron-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"display-3"},this.props.title),l.a.createElement("p",{className:"lead"},this.props.subtitle)))}}]),t}(n.Component)),E=(a(38),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("div",{className:"container"},l.a.createElement("span",{className:"text-muted"},"Task Manager \xa9",(new Date).getFullYear())))}}]),t}(n.Component));var g=function(){return l.a.createElement("div",null,l.a.createElement(f,null),l.a.createElement(v,{title:"Welcome",subtiltle:"Home from Task Manager App"}),l.a.createElement("div",{className:"container"},l.a.createElement("h2",null,"Welcome"),l.a.createElement("p",null,"This is Just a demo text.")),l.a.createElement(E,null))},k=a(11);var y=function(e){var t=e.tasks.map(function(t,a){return l.a.createElement("div",{key:a},t.todo_description,l.a.createElement("button",{className:"btn btn-danger ",onClick:e.onDeleteTask.bind(null,t._id)},"Delete"),l.a.createElement("button",{className:"btn btn-primary miStyle"},l.a.createElement(h.b,{to:"/mytasks/view/".concat(t._id)},"View")))});return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h2",null,e.title),l.a.createElement("div",{className:"row"},l.a.createElement("div",{id:"todo-list",className:"col-sm"},t)))};var j=function(e){return l.a.createElement("form",{onSubmit:e.onAddTask},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"ask-task-area"},"Ingresa la tarea"),l.a.createElement("textarea",{value:e.taskValue,onChange:e.onChange,className:"form-control"})),l.a.createElement("button",{className:"btn btn-primary"},"Add task to list"))},O="https://powerful-shelf-95000.herokuapp.com/",N=localStorage.getItem("token");var T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={tasks:[],taskValue:""},a.onChange=a.onChange.bind(Object(k.a)(a)),a.onAddTask=a.onAddTask.bind(Object(k.a)(a)),a.onDeleteTask=a.onDeleteTask.bind(Object(k.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onAddTask",value:function(e){var t=this;e.preventDefault();var a,n=this.state,l=n.taskValue;n.tasks;(a={todo_description:l},fetch("".concat(O,"todos/add"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+N},body:JSON.stringify(a)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})).then(function(){t.loadList(),t.setState({taskValue:""})})}},{key:"onChange",value:function(e){this.setState({taskValue:e.target.value})}},{key:"onDeleteTask",value:function(e){var t,a=this;(t={_id:e},fetch("".concat(O,"todos/delete"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+N},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})).then(function(){var t=a.state.tasks.filter(function(t){return console.log(t),t._id!==e});console.log(t),a.setState({tasks:t})})}},{key:"loadList",value:function(){var e=this;return fetch("".concat(O,"todos"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+N}}).then(function(e){return e.json()}).then(function(e){return e.message.map(function(e){return e})}).then(function(t){e.setState({tasks:t})})}},{key:"componentDidMount",value:function(){this.loadList()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(f,null),l.a.createElement(v,{title:"Tasks Manager",subtiltle:"Task Manager App"}),l.a.createElement("div",{className:"container"},l.a.createElement("h2",null,"Task Manager Page"),l.a.createElement(j,{onAddTask:this.onAddTask,taskValue:this.state.taskValue,onChange:this.onChange}),l.a.createElement(y,{title:"Tareas",tasks:this.state.tasks,onDeleteTask:this.onDeleteTask})),l.a.createElement(E,null))}}]),t}(l.a.Component);var C=function(){var e=function(){var e=localStorage.getItem("user-data");return JSON.parse(e)};return l.a.createElement("div",null,l.a.createElement(f,null),l.a.createElement(v,{title:"User's Info",subtiltle:"Personal Information"}),l.a.createElement("div",{className:"container"},l.a.createElement("div",null,l.a.createElement("h2",null,"Welcome ",e().name,"!"),"Your email is: ",e().email),l.a.createElement("p",null,"This is Just a demo text.")),l.a.createElement(E,null))},S=(a(39),a(24)),w="https://powerful-shelf-95000.herokuapp.com";var A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).authUser=function(e){e.preventDefault();var t,n=a.state,l=n.email,r=n.password;(t={email:l,password:r},fetch("".concat(w,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})).then(function(e){0==e.success?a.setState({error:!0,errorMessage:e.message}):(a.setState({error:!1,errorMessage:""}),p.login(e,function(){a.props.history.push("/my-info")}))})},a.state={email:"",password:"",error:!1,errorMessage:""},a.onChange=a.onChange.bind(Object(k.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onChange",value:function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;this.setState(Object(S.a)({},a,n))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(f,null),l.a.createElement(v,{title:"Login",subtiltle:"Sign In"}),l.a.createElement("div",{className:"container"},l.a.createElement("h2",null,"Please Login User"),l.a.createElement("input",{type:"text",name:"email",value:this.state.email,placeholder:"email",onChange:this.onChange}),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,placeholder:"password",onChange:this.onChange}),l.a.createElement("button",{onClick:this.authUser},"Login"),l.a.createElement("h2",null,this.state.errorMessage)),l.a.createElement(E,null))}}]),t}(l.a.Component),I=Object(d.g)(A),x=a(25),D=function(e){var t=e.component,a=Object(x.a)(e,["component"]);return l.a.createElement(d.b,Object.assign({},a,{render:function(e){return p.isAuthenticated()?l.a.createElement(t,e):l.a.createElement(d.a,{to:{pathname:"/",state:{from:e.location}}})}}))},M=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(h.a,{basename:"/"},l.a.createElement("div",null,l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/",component:g}),l.a.createElement(D,{exact:!0,path:"/mytasks",component:T}),l.a.createElement(d.b,{exact:!0,path:"/mytasks/add",component:function(){return l.a.createElement("h1",null,"Add a task")}}),l.a.createElement(d.b,{exact:!0,path:"/mytasks/view/:id",component:function(){return l.a.createElement("h1",null,"A View task page")}}),l.a.createElement(D,{exact:!0,path:"/my-info",component:C}),l.a.createElement(d.b,{exact:!0,path:"/login",component:I}),l.a.createElement(d.b,{exact:!0,path:"*",component:function(){return"404 NOT FOUND"}}))))}}]),t}(l.a.Component);o.a.render(l.a.createElement(M,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.0319c718.chunk.js.map